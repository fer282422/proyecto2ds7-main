<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carrito de Compras</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <link href="css/styles (1).css" rel="stylesheet" />
  <style>
    html, body {
      height: 100%;
    }
    body {
      padding-top: 80px;
      display: flex;
      flex-direction: column;
    }
    main {
      flex: 1;
    }
    .btn-orange {
      background-color: #f4623a;
      color: black;
    }
    .btn-orange:hover {
      background-color: #d94f27;
      color: black;
    }
    .card-custom {
      border-left: 5px solid #f4623a;
    }
    .navbar-light .navbar-nav .nav-link {
      color: black !important;
    }
  </style>
</head>

<body id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
    <div class="container px-4 px-lg-5">
      <a class="navbar-brand" href="#page-top">
        <img src="assets/favicon.ico" style="height: 30px; margin-right: 10px;" />
        Gaming Noticia
      </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ms-auto my-2 my-lg-0">
          <li class="nav-item"><a class="nav-link" href="#noticiasrelevantes">Noticias</a></li>
          <li class="nav-item"><a class="nav-link" href="#articulos">ArtÃ­culos</a></li>
          <li class="nav-item"><a class="nav-link" href="#juego">Juegos</a></li>
          <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="carrito.html">Carrito <img src="assets/img/carrito.png" style="width: 20px; height: 20px; margin-left: 5px;" /></a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main>
    <!-- Carrito -->
    <section class="container mt-5">
      <h2 class="mb-4 text-center">ðŸ›’ Tu Carrito de Compras</h2>
      <div id="lista-carrito" class="mb-4"></div>
      <div class="d-flex justify-content-between align-items-center">
        <h4 id="total">Total: $0.00</h4>
        <button class="btn btn-orange" onclick="pagarTodo()">Pagar Todo</button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-light py-5">
    <div class="container px-4 px-lg-5">
      <div class="small text-center text-muted">Â© 2025 Gaming Noticia. Todos los derechos reservados.</div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
  <script src="js/scripts.js"></script>

  <script>
    function mostrarCarrito() {
      const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
      const lista = document.getElementById('lista-carrito');
      lista.innerHTML = '';

      if (carrito.length === 0) {
        lista.innerHTML = '<div class="alert alert-info">No hay productos en el carrito.</div>';
        document.getElementById('total').innerText = 'Total: $0.00';
        return;
      }

      let total = 0;
      carrito.forEach((item, index) => {
        total += item.precio;
        lista.innerHTML += `
          <div class="card card-custom mb-3">
            <div class="card-body d-flex justify-content-between align-items-center">
              <div><strong>${item.nombre}</strong> - $${item.precio.toFixed(2)}</div>
              <button class="btn btn-sm btn-danger" onclick="eliminarProducto(${index})"><i class="bi bi-trash"></i> Eliminar</button>
            </div>
          </div>
        `;
      });

      document.getElementById('total').innerText = 'Total: $' + total.toFixed(2);
    }

    function eliminarProducto(index) {
      let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
      carrito.splice(index, 1);
      localStorage.setItem('carrito', JSON.stringify(carrito));
      mostrarCarrito();
    }

    function pagarTodo() {
      if (confirm("Â¿Confirmas el pago de todos los productos?")) {
        localStorage.removeItem('carrito');
        alert("âœ… Â¡Gracias por tu compra!");
        mostrarCarrito();
      }
    }

    mostrarCarrito();
  </script>
</body>

</html>
